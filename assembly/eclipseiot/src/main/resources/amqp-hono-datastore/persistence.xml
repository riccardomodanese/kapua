<?xml version="1.0" encoding="UTF-8"?>
<!--
    Copyright (c) 2011, 2017 Eurotech and/or its affiliates and others

    All rights reserved. This program and the accompanying materials
    are made available under the terms of the Eclipse Public License v1.0
    which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html

    Contributors:
        Eurotech - initial API and implementation
        Red Hat Inc
 -->
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"
             version="2.0">
    <persistence-unit name="kapua-account" transaction-type="RESOURCE_LOCAL">

        <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>

        <class>org.eclipse.kapua.service.account.internal.AccountImpl</class>
        <class>org.eclipse.kapua.service.account.internal.OrganizationImpl</class>
        <class>org.eclipse.kapua.commons.configuration.ServiceConfigImpl</class>

        <!-- event -->
        <class>org.eclipse.kapua.commons.service.event.store.internal.EventStoreRecordImpl</class>
        <class>org.eclipse.kapua.commons.event.ServiceEventHousekeeper</class>

        <!-- Base classes and External classes -->
        <class>org.eclipse.kapua.commons.model.id.KapuaEid</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaNamedEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaUpdatableEntity</class>

        <properties>
            <property name="javax.persistence.lock.timeout" value="1000"/>
            <property name="eclipselink.logging.logger" value="org.eclipse.persistence.logging.slf4j.SLF4JLogger"/>
        </properties>
    </persistence-unit>
    <persistence-unit name="kapua-datastore" transaction-type="RESOURCE_LOCAL">

        <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>

        <class>org.eclipse.kapua.commons.configuration.ServiceConfigImpl</class>
        
        <properties>
            <property name="eclipselink.logging.logger" value="org.eclipse.persistence.logging.slf4j.SLF4JLogger" />
        </properties>

    </persistence-unit>
     <persistence-unit name="kapua-device" transaction-type="RESOURCE_LOCAL">

        <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>

        <!-- event -->
        <class>org.eclipse.kapua.commons.service.event.store.internal.EventStoreRecordImpl</class>
        <class>org.eclipse.kapua.commons.event.ServiceEventHousekeeper</class>

        <!-- Device -->
        <class>org.eclipse.kapua.service.device.registry.internal.DeviceImpl</class>
        <class>org.eclipse.kapua.service.device.registry.connection.internal.DeviceConnectionImpl</class>
        <class>org.eclipse.kapua.service.device.registry.connection.option.internal.DeviceConnectionOptionImpl</class>
        <class>org.eclipse.kapua.service.device.registry.event.internal.DeviceEventImpl</class>
         
        <!-- Base classes and External classes -->
        <class>org.eclipse.kapua.commons.model.id.KapuaEid</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaNamedEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaUpdatableEntity</class>
        <class>org.eclipse.kapua.commons.configuration.ServiceConfigImpl</class>
        <class>org.eclipse.kapua.message.internal.KapuaPositionImpl</class>

        <properties>
            <property name="javax.persistence.lock.timeout" value="1000" />
            <!-- <property name="eclipselink.logging.level.sql" value="FINE"/>
            <property name="eclipselink.logging.parameters" value="true"/> -->
            
            <property name="eclipselink.logging.logger" value="org.eclipse.persistence.logging.slf4j.SLF4JLogger" />
        </properties>
    </persistence-unit>
    <persistence-unit name="kapua-authentication" transaction-type="RESOURCE_LOCAL">

        <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>

        <!-- Authentication -->
        <class>org.eclipse.kapua.service.authentication.credential.shiro.CredentialImpl</class>
        <class>org.eclipse.kapua.service.authentication.token.shiro.AccessTokenImpl</class>

        <!-- Base classes and External classes -->
        <class>org.eclipse.kapua.commons.model.id.KapuaEid</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaNamedEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaUpdatableEntity</class>
        <class>org.eclipse.kapua.commons.configuration.ServiceConfigImpl</class>


        <!-- event -->
        <class>org.eclipse.kapua.commons.service.event.store.internal.EventStoreRecordImpl</class>
        <class>org.eclipse.kapua.commons.event.ServiceEventHousekeeper</class>

        <properties>
            <property name="javax.persistence.lock.timeout" value="1000"/>
            <property name="eclipselink.logging.logger" value="org.eclipse.persistence.logging.slf4j.SLF4JLogger"/>
        </properties>
    </persistence-unit>

    <persistence-unit name="kapua-authorization" transaction-type="RESOURCE_LOCAL">

        <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>

        <!-- Authorization -->
        <class>org.eclipse.kapua.service.authorization.access.shiro.AccessInfoImpl</class>
        <class>org.eclipse.kapua.service.authorization.access.shiro.AccessRoleImpl</class>
        <class>org.eclipse.kapua.service.authorization.access.shiro.AccessPermissionImpl</class>

        <class>org.eclipse.kapua.service.authorization.domain.shiro.DomainImpl</class>

        <class>org.eclipse.kapua.service.authorization.group.shiro.GroupImpl</class>

        <class>org.eclipse.kapua.service.authorization.permission.shiro.PermissionImpl</class>

        <class>org.eclipse.kapua.service.authorization.role.shiro.RoleImpl</class>
        <class>org.eclipse.kapua.service.authorization.role.shiro.RolePermissionImpl</class>

        <!-- Base classes and External classes -->
        <class>org.eclipse.kapua.commons.model.id.KapuaEid</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaNamedEntity</class>
        <class>org.eclipse.kapua.commons.model.AbstractKapuaUpdatableEntity</class>
        <class>org.eclipse.kapua.commons.configuration.ServiceConfigImpl</class>

        <!-- event -->
        <class>org.eclipse.kapua.commons.event.service.internal.ServiceEventImpl</class>
        <class>org.eclipse.kapua.commons.event.ServiceEventHousekeeper</class>

        <properties>
            <property name="javax.persistence.lock.timeout" value="1000"/>
            <property name="eclipselink.logging.logger" value="org.eclipse.persistence.logging.slf4j.SLF4JLogger"/>
        </properties>
    </persistence-unit>
</persistence>
